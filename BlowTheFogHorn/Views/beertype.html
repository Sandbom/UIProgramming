<!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Blow The Fog Horn </title>
      <link rel="stylesheet" href="../Styles/Simon.css">
      <script src="../Scripts/jquery.js"></script>
      <script src="../Database/Dutchman Files/Beverages.js"></script>
      <script src="../Scripts/translateMasterPage.js"></script>
     <script src="../Database/Dutchman Files/translations.js"></script>

    <script>

        /*
                Loads the master.html into the page
         */

        $(function(){
            $("#masterContent").load("master.html",null,function(){

            });
        });

        /*
        Print Beer information into the two divs
        */
        
        $(function displayToDivs(){

            /*
            beer is an array of beers with the length == const MAX
             */
            var beer = findBeer("\u00c3\u2013l, Ale");
            var iterator = 1;

            for(var i = 0; i<beer.length;i++){
                if ( i != 0 && i % 3 === 0){
                    iterator++;
                }

                /*
                A solution to print ',' after the first and second variable
                 (not the third)
                 */
                if(iterator>1 || i != 2){
                    $("#item" + iterator).append(beer[i]).append(", ");
                }else{
                    $("#item" + iterator).append(beer[i]).append(" ");
                }
            }
        });

        /*
        Input: a spirit name
        Output: An array of beers of the specific "varugrupp" and length == const MAX
        */
        function findBeer(spiritName) {
            var info = [];

            /*
            Constant = 30 because of we want to display 10 beers of each category
            since we extract 3 variables from each beer the total is 10*3 = 30
            */
            const MAX = 30;
            /* Maximum amount of beers of each type*/

            for (var i = 0; i < DB2.spirits.length; i++) {
                if (DB2.spirits[i].varugrupp === spiritName && info.length < MAX) {
                    info.push(DB2.spirits[i].namn, DB2.spirits[i].prisinklmoms, DB2.spirits[i].nr);
                }
            }
            return info;
        }

        /*
        On click, stores the beer name i a session storage
        and redirects to the customerBeerInfo.html
         */
        $(document).ready(function () {

            $(".beeritems").click(function (event) {
               // var infoItem1 = $(".beeritems").get($(this.id));
                //alert(event.target.id);


              var info  = $("#"+event.target.id).text();
              //alert(info);

                var arrayItem1 = info.split(",");

                /*
                Extract the name of the drink
                 */
               var name1 = arrayItem1[0];

                /*
                Removes the space before the name to get the beerName
                 */
                var beerName1 = name1.substring(1);

                /*
                Stores the beerName in the local storage.
                To give customerBeerInfo access to the specific beer
                 */
               localStorage.setItem("beerName", beerName1);
                window.location.href = "customerBeerInfo.html";

            });
            $("#item2").on("click", function () {
                var info2 = $("#item2").text();

                var arrayItem2 = info2.split(",");
                alert("andra: " + arrayItem2);
                /*
                Extract the name of the drink
                 */
                var name = arrayItem2[0];

                /*
                Removes the space before the name to get the beerName
                 */
                var beerName = name.substring(1);

                /*
                Stores the beerName in the local storage.
                To give customerBeerInfo access to the specific beer
                 */
                localStorage.setItem("beerName", beerName);
//                window.location.href = "customerBeerInfo.html";

            });


        });

    </script>
  </head>

  <!--
  master div
  -->

  <div id="masterContent"></div>

 <!-- Button to open the modal login form -->
    <div>
    <button onclick="document.getElementById('id01').style.display='block'" class="loginb">Login</button>
    </div>

    <div>
    <button onclick="document.getElementById('id02').style.display='block'" class="regb">Register</button>
    </div>
    <!-- The Modal -->
    <div id="id01" class="modal">
      <span onclick="document.getElementById('id01').style.display='none'" 
    class="close" title="Close Modal">&times;</span>

  <!-- Modal Content Login -->
      <form class="modal-content animate" action="/action_page.php">
        <div class="imgcontainer">
          <img src="https://c1.staticflickr.com/8/7405/16446487722_48ebe347c0_b.jpg" alt="Avatar" class="avatar">
        </div>

        <div class="container">
          <label for="uname"><b>Username</b></label>
          <input type="text" placeholder="Enter Username" name="uname" required>

          <label for="psw"><b>Password</b></label>
          <input type="password" placeholder="Enter Password" name="psw" required>
          <button type="submit" class="loginbutton">Login</button>
          <label>
            <input type="checkbox" checked="checked" name="remember"> Remember me
          </label>
        </div>
        <div class="container" style="background-color:#f1f1f1">
          <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
          <span class="psw">Forgot <a href="#">password?</a></span>
        </div>
      </form>
    </div>

    <div id="id02" class="modal">
      <span onclick="document.getElementById('id02').style.display='none'"
    class="close" title="Close Modal">&times;</span>

      <!-- Modal Content Register -->
      <form class="modal-content animate" action"/action_page.php">
        <div class="imgcontainer">
          <img src="https://c1.staticflickr.com/8/7405/16446487722_48ebe347c0_b.jpg" alt="Avatar" class="avatar">
        </div>

        <div class="container">
          <label for="uname"><b>Name</b></label>
          <input type="text" placeholder="Enter Full Name" name="name" required>

          <label for="email"><b>Email</b></label>
          <input type="text" placeholder="Enter Email" name="email" required>

          <label for="uname"><b>Username</b></label>
          <input type="text" placeholder="Enter Username" name="uname" required>

          <label for="psw"><b>Password</b></label>
          <input type="password" placeholder="Enter Password" name="psw" required>

          <button type="submit" class="registerbutton">Register</button>
        </div>
        <div class="container" style="background-color:#f1f1f1">
          <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
        </div>
      </form>

    </div>
    <article>
      <header>
        <h1 id="beertypeheader"></h1>
      </header>
    </article>
    <div class="beerlist">
      <ul>
        <div class="beeritems">
            <li id="item1"> </li>
            <li id="item2"> </li>
            <li id="item3"> </li>
            <li id="item4"> </li>
            <li id="item5"> </li>
            <li id="item6"> </li>
            <li id="item7"> </li>
            <li id="item8"> </li>
            <li id="item9"> </li>
            <li id="item10"> </li>

        </div>
      </ul>
    </div>
      </body>

  </html>

  </html>